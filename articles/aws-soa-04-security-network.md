---
title: "AWS SOA セキュリティとコンプライアンス / ネットワーク"
emoji: "🔑"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: ["AWS","SOA"]
published: false
---

# 分野 5: セキュリティとコンプライアンス 18%
## IAM ※特に重要
### IAMロール
一時的にアクセスを許可。
  - 権利の委譲
  - **原則：アクセスキーよりIAMロール**
### IAMポリシー
IDやリソースに関連付けてアクセス許可を定義。
- IDベースのポリシー
IAMユーザー、グループ、ロールにアタッチ。
そのアイデンティティが実行できる内容 (そのアクセス許可) を指定できる。
- リソースベースのポリシー
リソースにアタッチ。
特定のIAMユーザーやアカウントに対するアクセスを制御できる。たとえば、バケットポリシーをS3バケットにアタッチして、アクセスするIAMユーザーを限定することができる。
### サービスコントロールポリシー (SCP) 
組織を管理するために使用できるポリシーのタイプ。リソースのアクセス権限を組織単位でコントロールすることに利用。（ユーザー単位ではない）

## Certificate Manager(ACM) 
- ACMがサポートされていないリージョンでは、IAM を Certificate Manager として使用する必要がある。
- IAM APIを使用して証明書を取得するには、get-server-certificateコマンドを使用して、証明書のARNを取得。
- 取得した証明書をELBに設定するためには、set-load-balancer-listener-ssl-certificateコマンドを使用して証明書を設定。

## Guard Duty
セキュリティの観点から脅威を検知。
- 機械学習を利用した不正検知が可能です。 
- VPCフローログを解析できます。 
- IPアドレスやドメインリストを解析できます。 

## Artifact
AWSとの契約やコンプライアンスなどに関わる情報を一元管理することができるサービス。監査対応。(CodeArtifact は全く関係ない)
1. レポート機能
ISO認定、PCI(Payment Card Industry)、SOCレポートなどの AWSセキュリティ・コンプライアンスドキュメントをダウンロードできる。
2. 契約に関する機能
AWSとの契約を確認・管理。複数のアカウントに紐づく契約を管理。

## AWS Shield
マネージド型の分散サービス妨害 (DDoS) を防御するAWSサービス。
- スタンダード : 無料。通常、Cloudfrontなどを利用すると自動で適用される。
- アドバンスト : アプリケーションを標的とした攻撃に対する高レベルな保護。
**TODO WAFと何が違う？**

## WAF
ルールを設定してルールがマッチしたアクセスを遮断する機能。
（監視はできない。）

## RDS
- 保管時のRDS DBインスタンスとスナップショットを暗号化するには、**DBインスタンス作成時に**RDS DBインスタンスの暗号化オプションを有効にする。
- インスタンス作成時、**RDS側でSSL証明書が作成され**、DBインスタンスにインストールされる。


# 分野 6: ネットワーク 14%
**原則：セキュリティグループは、許可のみ行う。ステートフル**
**原則：ネットワークACLは、明示的な拒否を行う。ステートレス**
## VPC(IGW, NAT, VPCエンドポイント)
- IPv6 CIDRブロックのサイズ(/56)は固定。(独自のIPv6アドレス範囲を指定できない)
### VPCピアリング
2つのVPC間をセキュアに通信できる。
（例：異なるアカウントによって所有され、かつ別のリージョンのVPCで稼働されているインスタンス に、パブリックインターネットを通過せずにアクセスできる。）
### ルートのブラックホール状態(現象)
ルートのターゲットが利用できない状態。
ルートテーブルに設定したインターネットゲートウェイやNATゲートウェイを削除すると発生。


- DirectConnect
- VPN
